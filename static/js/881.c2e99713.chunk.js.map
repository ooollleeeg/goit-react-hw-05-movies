{"version":3,"file":"static/js/881.c2e99713.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/ListItem/ListItem.module.css?0678","components/ListItem/ListItem.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/movie-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"ListItem_item__3+qKK\",\"icon\":\"ListItem_icon__dP-8S\",\"link\":\"ListItem_link__twHxh\"};","import { Link, useLocation } from 'react-router-dom';\nimport { BiStar } from 'react-icons/bi';\nimport css from './ListItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ListItem = ({ name, id }) => {\n    const location = useLocation();\n\n    return (\n        <li className={css.item}>\n            <BiStar className={css.icon} />\n            <Link\n                to={`/movies/${id}`}\n                state={{from: location}}\n                className={css.link}\n            >\n                {name}\n            </Link>\n        </li>\n    )\n};\n\nListItem.propTypes = {\n    name: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n}\n\nexport default ListItem;","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"Movies_searchForm__J4-xw\",\"input\":\"Movies_input__KrUqs\",\"buttonIcon\":\"Movies_buttonIcon__GIQHA\",\"button\":\"Movies_button__GcIka\"};","import { useState, useEffect, Suspense } from 'react';\nimport { Outlet, useLocation, useSearchParams } from 'react-router-dom';\nimport { BsSearch } from 'react-icons/bs';\nimport { toast } from 'react-toastify';\nimport { Loader } from 'components/Loader/Loader';\nimport movieAPI from 'services/movie-api';\nimport ListItem from 'components/ListItem/ListItem';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n    const location = useLocation();\n    const [value, setValue] = useState('');\n    const [movies, setMovies] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get('query') ?? '';\n\n    const handleInputChange = event => {\n        const inputValue = event.currentTarget.value.toLowerCase();\n        setValue(inputValue);\n    };\n\n    const handleFormSubmit = event => {\n        event.preventDefault();\n        if (value.trim() === '') {\n            toast.error('Enter search query.');\n            reset();\n            return;\n        }\n        changeQuery(value);\n        reset();\n    };\n\n    const changeQuery = value => {\n        setSearchParams(value !== '' ? { query: value } : {});\n    }\n\n    const reset = () => {\n        setValue('');\n    };\n\n    useEffect(() => {\n        if (!query) {\n            return;\n        }\n\n        setLoading(true);\n        movieAPI\n            .searchMovies(query)\n            .then(result => {\n                if (result.results.length > 0) {\n                    setMovies(result.results);\n                } else {\n                    setMovies(null);\n                    toast.warning(\"No matches found.\");\n                }\n            })\n            .catch(error => toast.error(`${error.message}`))\n            .finally(() => {\n                setLoading(false);\n            });\n    }, [query]);\n\n    useEffect(() => {\n        if (location.pathname === '/movies') {\n            setMovies(null);\n        }\n    }, [location])\n\n    return (\n        <>\n            {location.pathname === '/movies' &&\n                <>\n                    <form className={css.searchForm} onSubmit={handleFormSubmit}>\n                        <input\n                            type=\"text\"\n                            name=\"query\"\n                            placeholder=\"Enter movie name\"\n                            className={css.input}\n                            onChange={handleInputChange}\n                            value={value}\n                        />\n                        <button type=\"submit\" className={css.button}>\n                            <BsSearch className={css.buttonIcon} />\n                            Search\n                        </button>\n                    </form>\n                    <ul className={css.trending__list}>\n                        {movies && movies.map(movie => {\n                            return <ListItem\n                                key={movie.id}\n                                name={movie.title}\n                                id={movie.id}\n                            />\n                        })}\n                        {loading && <Loader />}\n                    </ul>\n                </>\n            }\n            <Suspense fallback={<Loader />}>\n                <Outlet />\n            </Suspense>\n        </>\n    );\n};\n\nexport default Movies;","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '69fc77f6620d7e54166b698911b2babb';\nconst TRENDING = '/trending/movie/day';\nconst MOVIE_DETAILS = '/movie';\nconst CAST = '/credits';\nconst REVIEWS = '/reviews';\nconst SEARCH = '/search/movie';\n\nasync function fetchTrending() {\n    try {\n        const fetchUrl = `${ BASE_URL }${TRENDING}?api_key=${API_KEY}`;\n        const response = await axios.get(fetchUrl);\n\n        if (response) {\n            return response.data.results;\n        }\n\n        return Promise.reject(\n            new Error('Oops! Something went wrong...')\n        );\n    } catch (error) {\n        return error;\n    }\n};\n\nasync function fetchMovieDetails(id) {\n    try {\n        const fetchUrl = `${ BASE_URL }${MOVIE_DETAILS}/${id}?api_key=${API_KEY}`;\n        const response = await axios.get(fetchUrl);\n\n        if (response) {\n            return response.data;\n        }\n\n        return Promise.reject(\n            new Error('Oops! Something went wrong...')\n        );\n    } catch (error) {\n        return error;\n    }\n};\n\nasync function fetchCast(id) {\n    try {\n        const fetchUrl = `${ BASE_URL }${MOVIE_DETAILS}/${id}${CAST}?api_key=${API_KEY}`;\n        const response = await axios.get(fetchUrl);\n\n        if (response) {\n            return response.data;\n        }\n\n        return Promise.reject(\n            new Error('Oops! Something went wrong...')\n        );\n    } catch (error) {\n        return error;\n    }\n};\n\nasync function fetchReviews(id) {\n    try {\n        const fetchUrl = `${ BASE_URL }${MOVIE_DETAILS}/${id}${REVIEWS}?api_key=${API_KEY}`;\n        const response = await axios.get(fetchUrl);\n\n        if (response) {\n            return response.data;\n        }\n\n        return Promise.reject(\n            new Error('Oops! Something went wrong...')\n        );\n    } catch (error) {\n        return error;\n    }\n};\n\nasync function searchMovies(query) {\n    try {\n        const fetchUrl = `${ BASE_URL }${SEARCH}?api_key=${API_KEY}&query=${query}`;\n        const response = await axios.get(fetchUrl);\n\n        if (response) {\n            return response.data;\n        }\n\n        return Promise.reject(\n            new Error('Oops! Something went wrong...')\n        );\n    } catch (error) {\n        return error;\n    }\n}\n\nconst movieAPI = {\n    fetchTrending,\n    fetchMovieDetails,\n    fetchCast,\n    fetchReviews,\n    searchMovies,\n};\n\nexport default movieAPI;"],"names":["name","id","location","useLocation","className","css","to","state","from","useState","value","setValue","movies","setMovies","loading","setLoading","useSearchParams","searchParams","setSearchParams","query","get","changeQuery","reset","useEffect","movieAPI","then","result","results","length","toast","catch","error","message","finally","pathname","onSubmit","event","preventDefault","trim","type","placeholder","onChange","inputValue","currentTarget","toLowerCase","map","movie","ListItem","title","Loader","Suspense","fallback","BASE_URL","API_KEY","TRENDING","MOVIE_DETAILS","CAST","REVIEWS","SEARCH","fetchTrending","fetchUrl","axios","response","data","Promise","reject","Error","fetchMovieDetails","fetchCast","fetchReviews","searchMovies"],"sourceRoot":""}